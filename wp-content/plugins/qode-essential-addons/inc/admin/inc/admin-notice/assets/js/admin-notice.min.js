!function(o){"use strict";o(document).ready(function(){d.init()});var d={init:function(){this.deactivationLink=o("#the-list").find('[data-slug="qode-essential-addons"] span.deactivate a'),this.deactivationModal=o("#qode-essential-addons-deactivation-modal"),this.deactivationLink.length&&this.deactivationModal.length&&this.initModal()},initModal:function(){this.deactivationLink.on("click",function(t){t.preventDefault(),d.deactivationModal.fadeIn("fast")}),this.enableModalCloseFunctionality(),this.initSubmitFunctionality(),this.initSkipFunctionality()},enableSubmitButton:function(){var t=this.deactivationModal.find('input[name="reason_key"]'),i=this.deactivationModal.find(".qodef-deactivation-modal-button-submit");t.on("change",function(){i.removeClass("qodef--disabled")})},initSubmitFunctionality:function(){var a=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),n=this.deactivationModal.find(".qodef-deactivation-modal-button-skip"),e=this.deactivationModal.find("#qode-essential-addons-deactivation-nonce");a.length&&a.on("click",function(t){t.preventDefault(),a.addClass("qodef--processing"),n.addClass("qodef--disabled");var i,t=d.deactivationModal.find('input[name="reason_key"]:checked').val();switch(t){case"found_a_better_plugin":i=d.deactivationModal.find('input[name="reason_found_a_better_plugin"]').val();break;case"other":i=d.deactivationModal.find('input[name="reason_other"]').val();break;default:i=""}o.ajax({type:"POST",data:{action:"qode_essential_addons_deactivation",reason:t,additionalInfo:i,nonce:e.val()},url:ajaxurl,success:function(t){o.parseJSON(t);d.deactivatePlugin()}})})},initSkipFunctionality:function(){var i=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),a=this.deactivationModal.find(".qodef-deactivation-modal-button-skip");a.length&&a.on("click",function(t){t.preventDefault(),a.addClass("qodef--processing"),i.addClass("qodef--disabled"),d.deactivatePlugin()})},deactivatePlugin:function(){location.href=this.deactivationLink.attr("href")},enableModalCloseFunctionality:function(){var t=this.deactivationModal.find(".qodef-deactivation-modal-close");t.length&&t.on("click",function(t){t.preventDefault(),d.deactivationModal.fadeOut("fast")})}}}(jQuery);